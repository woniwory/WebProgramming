<head>
    <title>2021-2-WebProg-C1-HW10-정성원-32204077</title>
    <style>
        body {
            background-image: url("snow.jpg");
            /*background: 70%; */
            background-repeat: no-repeat;
        }

        div {
            border-style: none;
            font-size: small;
            color: white;
        }
    </style>
    <script>
        var width = 1211; /* 이미지 넓이 중에서 아무 곳에서 시작되도록 하는 이미지 넓이 변수 screen.availWidth; */
        var height = 870; /* 이미지 높이 */
        var snowcount = 120;

        function first_position() {
            var text = "";
            for (i=0; i<snowcount; i++) {
                ranlocation = Math.floor(Math.random() * (width - 1 + 1) + 1);
                rantoplocation = Math.floor(Math.random() * (height - 1 + 1) + 1);
                text = "<div style='position: absolute; top:" + rantoplocation + "px; left: " + ranlocation + "px;'>*</div>";
                document.body.innerHTML += text;
            }
        }

        function down_position() {
            var arrdivs = document.getElementsByTagName("div");

            for (i=0; i<arrdivs.length; i++) {
                var newoffsettop = arrdivs[i].offsetTop + 10;
                var offsetleft = arrdivs[i].offsetLeft;

                if ( newoffsettop > 860) {  /* 이미지 크기를 넘어간다면 */
                    start_position(arrdivs[i]);
                } else {
                    var newdiv = document.createElement("div");

                    newdiv.style.left = offsetleft;
                    newdiv.style.top = newoffsettop;
                    newdiv.style.position = "absolute";
                    newdiv.innerHTML = "*";
                    document.body.replaceChild(newdiv, arrdivs[i]);
                }
            }
        }

        function start_position(arrdiv) {
            ranlocation = Math.floor(Math.random() * (width - 1 + 1) + 1);
            rantoplocation = Math.floor(Math.random() * (height - 700 - 1 + 1) + 1); // 그림의 상단에서 눈이 생기도록 수치를 조정

            var newdiv = document.createElement("div");
            
            newdiv.style.left = ranlocation;
            newdiv.style.top = rantoplocation;
            newdiv.style.position = "absolute";
            newdiv.innerHTML = "*";

            document.body.replaceChild(newdiv, arrdiv);
        }
    </script>
</head>
<body >
    <script>
        first_position();
        setInterval("down_position()", 2000);
    </script>

</body>
